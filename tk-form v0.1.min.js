!function(r){let t=".custom-form",e=".custom-form-submit",o=(r={})=>{t=r.formClass||t,e=r.customSubmitClass||e,t_onReady(()=>{t_onFuncLoad("t396_init",()=>{a()})})},a=()=>{let r=document.querySelectorAll(t);if(0===r.length){console.error("[TKFORM] Не найдено ни одной формы с классом",t);return}let e=new Set;if(r.forEach(r=>{let t=r.closest(".t-rec");t&&e.add(t)}),0===e.length){console.error("[TKFORM] Не найдено ни одного зеро блока с формами");return}c(r),i(e)},i=r=>{r.forEach(r=>{let o=r.querySelector(".t396__artboard"),a=r.querySelectorAll(t),i=r.querySelector(e);if(!o)return console.error("[TKFORM] Не найден элемент t396__artboard в блоке:",r),!1;if(0===a.length)return console.error(`[TKFORM] Не найдено ни одной формы с классом ${t} в блоке`,r),!1;if(!i)return console.error(`[TKFORM] Не найдено кнопки submit с классом ${e} в блоке`,r),!1;let c=o.dataset.artboardRecid?"tk-form"+o.dataset.artboardRecid:"tk-form"+Math.floor(1e5+9e5*Math.random()),s=document.createElement("div");s.innerHTML=`<form class="t-form t-form_inputs-total_2 js-form-proccess" id="${c}" name="form778879734" action="https://forms.tildacdn.com/procces/" method="POST" role="form" data-formactiontype="2" data-inputbox=".t-input-group" data-success-callback="t396_onSuccess" data-success-popup="y" data-error-popup="y"></form>`;let n=s.childNodes[0];a.forEach(r=>{let t=r.querySelector("form");if(!t)return console.error("[TKFORM] Не найдено формы в элементе",r),!1;let e=document.createElement("div");[...t.attributes].forEach(r=>e.setAttribute(r.name,r.value)),e.append(...t.cloneNode(!0).childNodes),t.replaceWith(e),n.appendChild(r)}),n.appendChild(i),o.appendChild(n),l(n,i)})},l=(r,t)=>r?t?void(t.setAttribute("type","submit"),t.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),window.tildaForm.hideErrors(r);let e=window.tildaForm.validate(r);if(e.length){window.tildaForm.showErrors(r,e);return}if(!t_forms__initBtnClick)return console.error("[TKFORM] Функция t_forms__initBtnClick не инициализирована на странице"),!1;t_forms__initBtnClick(t)})):(console.error(`[TKFORM] Не найдено кнопки submit в форме`,r),!1):(console.error("[TKFORM] Не найдено комбинированной формы, обратитесь к разработчику: bystricky@tonky-kot.ru"),!1),c=r=>{r.forEach(r=>r.querySelector(".tn-form__submit")?.remove())};r.tkForm={init:o}}(window);